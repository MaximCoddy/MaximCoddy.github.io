<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name='viewport' content="width=device-width, initial-scale=1">
	<title>Тестовый проект</title>
	<link href="https://fonts.googleapis.com/css?family=Russo+One&display=swap" rel="stylesheet">
	<style>
		body {
			font-family: 'Russo One', sans-serif;
		}
		.item {
			width: calc(100% / 2 - 20px);
			height: 300px;
			margin: 10px;
			background-color: #ccc;
			-webkit-background-size: cover;
			background-size: cover;
			background-position: center;
			transition: 0.3s;
			filter: grayscale(1);
		}

		.box {
			max-width: 900px;
			margin: auto;
			display: flex;
			flex-wrap: wrap;
		}

		.title {
			width: 100%;
			padding-left: 10px;
			font-size: 60px;
			letter-spacing: 3px;
			color: #333;
		}

		.overlay {
			width: 100%;
			height: 100%;
			background-color: rgba(0,0,0,0.7);
			position: fixed;
			top: 0;
			left: 0;
			display: none;
			justify-content: center;
			-ms-align-items: center;
			align-items: center;
		}

		.modal {
			max-height: 90%;
			max-width: 90%;
			width: auto;
			box-shadow: 0 0 20px 1px rgba(255,255,255,0.3);
		}

		html, body {
			height: 100%;
			margin: 0;
		}

		@media (max-width: 480px) {
			.item {
				width: 100%;
				filter: grayscale(0);
			}
			.title {
				font-size: 42px;
			}
		}

		@media (pointer: fine) {
			.item:hover {
				filter: grayscale(0);
			}
		}
	</style>
</head>
<body>
	<div class="box">
		<h1 class="title">Моя галерея</h1>
		<div class="item" style='background-image: url(p1.jpg);'></div>
		<div class="item" style='background-image: url(p2.jpg);'></div>
		<div class="item" style='background-image: url(p3.jpg);'></div>
		<div class="item" style='background-image: url(p4.jpg);'></div>
		<div class="item" style='background-image: url(p5.jpg);'></div>
		<div class="item" style='background-image: url(p6.jpg);'></div>
	</div>
	<div class="overlay">
		<img src='p6.jpg' class="modal" />
	</div>
	<script>
		var items = document.querySelectorAll('.item');
		var modal = document.querySelector('.modal');
		var overlay = document.querySelector('.overlay');
		console.log('items: ', items);
		for (var i = 0; i < items.length; i++) {
			console.log(i, items[i]);
			items[i].onclick = function() {
				overlay.style.display = 'flex';		
				modal.setAttribute('src', this.style.backgroundImage.slice(5,-2))
			}
		}
		overlay.onclick = function(event) {
			if (event.target == overlay) {
				overlay.style.display = 'none';
			}
		}
	</script>
</body>
</html>